<div class="container">
  <div class="sidebar">
    <div class="profile-pic"></div>
    <h2>{{ username() }}</h2>
  </div>
  
  <div class="profile-settings">
    <h2>Informations personnelles</h2>
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="column">
          <label for="lastname">Nom</label>
          <input 
            id="lastname"
            type="text" 
            formControlName="lastname"
            placeholder="Nom"
          >
          <span *ngIf="isFieldInvalid('lastname')" class="error">Le nom est requis</span>
        </div>
        <div class="column">
          <label for="username">Prénom</label>
          <input 
            id="username"
            type="text" 
            formControlName="username"
            placeholder="Prénom"
          >
          <span *ngIf="isFieldInvalid('username')" class="error">Le prénom est requis</span>
        </div>
      </div>
      
      <label for="email">Email</label>
      <input 
        id="email"
        type="email" 
        formControlName="email"
        placeholder="Entrer votre email"
      >
      <span *ngIf="isFieldInvalid('email')" class="error">Email invalide</span>
      
      <label for="telephone">Téléphone</label>
      <input 
        id="telephone"
        type="tel" 
        formControlName="telephone"
        placeholder="Entrer votre numéro de téléphone"
      >
      <span *ngIf="isFieldInvalid('telephone')" class="error">Numéro de téléphone invalide</span>

      <!-- Champs masqués pour role et password -->
      <input 
        id="role" 
        type="text" 
        formControlName="role"
        style="display: none;"
      >
      <input 
        id="password" 
        type="password" 
        formControlName="password"
        style="display: none;"
      >
      
      <button 
        type="submit" 
        [disabled]="!profileForm.valid || isLoading()"
      >
        <ng-container *ngIf="isLoading(); else normalButton">
          Modification en cours...
        </ng-container>
        <ng-template #normalButton>
          Modifier
        </ng-template>
      </button>
    </form>
  </div>
</div>
